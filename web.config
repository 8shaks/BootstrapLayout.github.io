
<?xml version="1.0" encoding="UTF-8"?>
<configuration>   
 <system.webServer>   
    <rewrite>          
        <rules>        
           <remove name="RedirectPhpExtensions" />
            <remove name="RewritePhpExtensions" />

            <!-- Add a rule to redirect x.php pages to just x -->
            <rule name="RedirectPhpExtensions" enabled="true" stopProcessing="true">
               <match url="(.*)\.php$" />
               <action type="Redirect" url="{R:1}" redirectType="Permanent" />
            </rule>

            <!-- Add a rule to rewrite the x pages to x.php behind the scene -->
            <rule name="RewritePhpExtensions" enabled="true" stopProcessing="true">
               <match url="(.*)" negate="false" />
               <conditions logicalGrouping="MatchAll">
                  <add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true" />
                  <add input="{REQUEST_FILENAME}" matchType="IsDirectory" negate="true" />
               </conditions>
               <action type="Rewrite" url="{R:1}.php" />
            </rule>
     
            <rule name="RewriteHTML">
              <match url="(.*)" />
                <conditions logicalGrouping="MatchAll">                     
                <add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true" />                     
                <add input="{REQUEST_FILENAME}" matchType="IsDirectory" negate="true" />                 
                </conditions>                 <action type="Rewrite" url="{R:1}.html" />             
            </rule>                
        </rules>      
    </rewrite>   
 </system.webServer>  
</configuration>


